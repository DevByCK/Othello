# OTHELLO 구현 계획서

## 1. 문서 목적
- `game-design-document.md`를 기준으로 실제 개발 순서와 완료 조건을 정의한다.
- 작업 우선순위를 명확히 하여 구현 누락을 방지한다.

## 2. GDD 준수 체크포인트
- 릴리스 범위: 1차는 `인간 대 인간(Local 2P)`만 구현한다.
- 보드/규칙: 8x8, 중앙 4개 초기 배치, 흑 선공, 8방향 뒤집기, 자동 패스, 연속 패스 종료, 보드 가득 참 종료를 반드시 충족한다.
- UX: 유효 수 하이라이트, 무효 클릭 안내, 턴/점수/상태 즉시 갱신, 종료 후 입력 차단을 반드시 반영한다.
- 상태 모델: `board`, `currentPlayer`, `status`, `passCount`, 점수 정보를 유지한다.
- 품질 기준: 핵심 규칙 테스트 최소 10개 이상을 통과한다.

## 3. 개발 단계

### Milestone 1: 프로젝트 초기 세팅
- Vite + React(HTML/CSS/JavaScript) 프로젝트 생성
- 기본 폴더 구조 구성 (`components`, `logic`, `state`, `styles`, `tests`)
- 공통 상수값 정의 (`BOARD_SIZE`, `DIRECTIONS`, 플레이어 색상 등)
- 산출물:
  - 실행 가능한 기본 앱 셸
  - 게임 상태 초기값(`initialState`) 및 상수 파일

### Milestone 2: 게임 엔진 구현
- 초기 보드 배치 로직 구현
- 유효 수 판정 로직 구현
- 뒤집기 로직 구현(8방향)
- 턴 전환, 패스, 종료 조건 구현
- 승패/무승부 판정 구현
- 산출물:
  - 순수 함수 기반 엔진 모듈 (`moveValidator`, `flipper`, `gameEngine`, `scorer`)
  - 규칙 시뮬레이션 가능한 단위 함수 인터페이스

### Milestone 3: UI 컴포넌트 구현
- 보드/셀 컴포넌트 구현
- 턴 표시, 점수판, 상태 메시지 구현
- 유효 수 하이라이트 및 클릭 처리 구현
- 무효 수 클릭 안내 메시지 구현
- 자동 패스 발생 시 안내 메시지 구현
- 새 게임 버튼 및 게임 종료 후 입력 차단 처리
- 산출물:
  - `Board`, `Cell`, `ScoreBoard`, `TurnIndicator`, `GameControls`
  - 게임 결과 표시 영역(또는 모달)

### Milestone 4: 통합 및 테스트
- 엔진과 UI 상태 연동 (`useReducer` 기반)
- 핵심 규칙 단위 테스트 작성(최소 10개)
- 기본 사용자 시나리오 통합 테스트 작성
- 테스트 기준:
  1. 초기 배치 정확성
  2. 흑 선공 적용
  3. 단일 방향 뒤집기
  4. 다중 방향 동시 뒤집기
  5. 유효 수 없는 칸 배치 차단
  6. 유효 수 하이라이트 정확성
  7. 자동 패스 발생
  8. 연속 패스 2회 종료
  9. 보드 64칸 종료
  10. 승/패/무승부 판정
  11. 종료 후 입력 차단
  12. 새 게임 초기화

### Milestone 5: 품질 정리
- 코드 정리 및 중복 제거
- 문서 동기화 (`game-design-document.md`, `progress.md`)
- 린트/테스트 최종 점검
- 브라우저 동작 확인(최신 Chrome/Safari/Edge)
- 모바일 뷰(최소 360px)에서 레이아웃 검증

## 4. 완료 기준(DoD)
- 오델로 핵심 규칙(배치/뒤집기/패스/종료/승패)이 정확히 동작한다.
- UI 상태(턴/점수/결과)가 게임 엔진 상태와 일치한다.
- 주요 규칙 테스트 10개 이상이 모두 통과한다.
- `progress.md` 최신화가 완료된다.
- 1차 릴리스 범위를 벗어나는 기능(AI/온라인/리플레이)은 구현하지 않는다.

## 5. 리스크 및 대응
- 규칙 로직과 UI 결합도 증가 위험 → `logic` 모듈 분리 유지
- 상태 불일치 위험 → selector 및 테스트 강화
- 범위 확장 위험(AI/온라인) → 1차 릴리스 범위 엄격 관리
- 브라우저별 UI 차이 위험 → 주요 브라우저 수동 점검 체크리스트 유지
